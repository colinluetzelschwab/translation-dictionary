import t from"@skatejs/val";import{html as e,LitElement as n,css as o,unsafeCSS as i}from"lit";import{unsafeHTML as a}from"lit/directives/unsafe-html.js";import{repeat as r}from"lit/directives/repeat.js";import{classMap as s}from"lit/directives/class-map.js";import{Expand_moreSvg as l}from"@axa-ch/materials/icons/material-design";import c from"@axa-ch/container";var d=(t,e)=>{const n=t.toLowerCase();return window.customElements.get(n)||window.customElements.define(n,e),n};const m=(t,e)=>{return`${t}-${n=e,`${n}`.replace(/\./g,"-").replace(/[^A-Za-z0-9-]/g,"")}`;var n},f=(t,e="",n="<")=>`${n}${e}${t}`,p=(t,e,n)=>f(m(t,e),n,"{"),h=(t,e,n)=>t.map((t=>t.split(f(e)).join(p(e,n)).split(f(e,"/")).join(p(e,n,"/")))),u=(t,e,n)=>{const o="string"==typeof e&&e;let i="";return t.forEach((t=>{const a=t instanceof HTMLElement?t.constructor:t,{tagName:r}=a,s=!o&&e[r];if(s){if(!window.customElements.get(r)&&a.versions)throw Error(`'versions' is a reserved class property, but was found in ${r}'s class`);a.versions=s,d(r,a)}let{versions:l}=a;!l&&n&&(l=e[n.constructor.tagName],l[r]=Object.values(l)[0]);const c=o||l[r];i=m(r,c),d(i,class extends a{})})),i},g=t=>(n,...o)=>{const i=t.constructor,[a,r]=(t=>{const{versions:e,tagName:n}=t,o=Object.keys(e).filter((t=>t!==n)).sort(((t,e)=>e.length-t.length));return[o,o.map((t=>e[t]))]})(i);let s=n;for(let t=0,e=a.length;t<e;t++)s=h(s,a[t],r[t]);for(let t=0,e=s.length;t<e;t++)s[t]=s[t].split("{").join("<");return s.raw=s,e(s,...o)},x=(t,e)=>{const n={},o={};let i;return Object.keys(t).forEach((a=>{const r=t[a];let s;const l=e.properties[a]||{},{type:c}=l;switch(s=0===a.indexOf("on")&&a.charAt(2)===a.charAt(2).toUpperCase()?Function:"className"===a?"className":c,s){case"className":case Array:case Object:case Function:case Boolean:i=o;break;default:i=c?o:n}void 0!==r&&(i[a]="style"===a?(t=>Object.keys(t).reduce(((e,n)=>{let o=e;return`${o+=n.split(/(?=[A-Z])/).join("-").toLowerCase()}:${t[n]};`}),""))(r):r)})),{attrs:n,props:o}};const _=t=>!(null==t),b=new Map;[[String,""],[Boolean,!1],[Object,{}],[Array,[]],[Number,0],[Function,()=>{}]].forEach((([t,e])=>{b.set(t,e)}));const y=()=>{},w=t=>{const{constructor:{properties:e}}=t;Object.keys(e).forEach((n=>{const o=e[n],{type:i,converter:a,defaultValue:r}=o;if(!i){if(!a)throw new Error(`<${t.nodeName}> property "${n}" is missing a type!`);return}let s=t[n];_(s)||(s=i===Boolean?t.hasAttribute(n):t.getAttribute(n),_(s)?t[n]=((t,e)=>e===Number?parseFloat(t):e===Function?y:e===Array||e===Object?JSON.parse(t):t)(s,i):void 0===r&&"defaultValue"in o||(t[n]="defaultValue"in o?r:b.get(i)))}))};const A={};class k extends n{inlineStyles(t="styles"){const e=this.getRootNode(),n=A[this.tagName]||new WeakMap,o=n.get(e)||{},i=(o.referenceCount||0)+1;if(o.referenceCount=i,n.set(e,i),A[this.tagName]=n,1===i){this.ownerDocument!==e&&(this._rootNode=e);const n=document.createElement("style");let i=this.constructor[t];const a=this.nodeName.toLowerCase(),r=this.constructor.tagName;a!==r&&(i=i.split(r).join(a)),n.textContent=i,n.dataset.name=this.tagName.toLowerCase();(e instanceof ShadowRoot?e:document.head).appendChild(n),o.style=n}n.set(e,o),A[this.tagName]=n}disconnectedCallback(){super.disconnectedCallback();const t=A[this.tagName];if(!t)return;const e=this._rootNode||this.ownerDocument,n=t.get(e)||{},o=(n.referenceCount||0)-1;if(o<1){t.delete(e);const{style:o}=n;o&&o.parentNode&&o.parentNode.removeChild(o)}else n.referenceCount=o,t.set(e,n)}}const v=["h1","h2","h3","h4","h5","h6"],C=t=>{t.style.maxHeight="0px"},N=(t,n)=>e`
    <li class="o-footer__main-content-panel-list-item js-footer_list-item">
      <slot name="column-${t}-item-${n}" />
    </li>
  `;class S extends k{static get tagName(){return"axa-footer"}static get styles(){return o`
      ${i('.o-footer {\n  text-align: initial;\n  color: #fff;\n  background-color: #3b3fd8;\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n}\n@media (min-width: 36em) {\n  .o-footer {\n    padding: 40px 0;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer {\n    padding: 50px 0;\n  }\n  .o-footer h2 {\n    color: #fff !important;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__content {\n    display: grid;\n    grid-template-areas: "links" "social";\n    display: -ms-grid;\n    -ms-grid-columns: 1fr;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__content {\n    grid-template-areas: "links social";\n    display: -ms-grid;\n    -ms-grid-columns: 1fr 1fr;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__collection {\n    display: flex;\n    grid-area: links;\n    -ms-grid-row: 1;\n    -ms-grid-column: 1;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__collection {\n    -ms-grid-row: 1;\n    -ms-grid-column: 1;\n  }\n}\n.o-footer__title {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  margin: 0;\n}\n@media screen and (-ms-high-contrast: active) and (min-width: 62em), (-ms-high-contrast: none) and (min-width: 62em) {\n  .o-footer__social-media {\n    margin-left: 100px;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__social-media {\n    grid-area: social;\n    -ms-grid-row: 2;\n    -ms-grid-column: 1;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__social-media {\n    -ms-grid-row: 1;\n    -ms-grid-column: 2;\n  }\n}\n.o-footer__social-media-title {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  text-transform: uppercase;\n  line-height: 1.5;\n}\n.o-footer__social-media-list {\n  margin: 0;\n  text-indent: 0;\n  list-style-type: none;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 15px 20px;\n}\n.o-footer__social-media-list li {\n  margin-right: 10px;\n}\n.o-footer__social-media-list li:last-child {\n  margin-right: 0;\n}\n@media (min-width: 36em) {\n  .o-footer__social-media-list {\n    margin: 0;\n    text-indent: 0;\n    list-style-type: none;\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    padding-top: 15px;\n    margin-left: -10px;\n  }\n  .o-footer__social-media-list a {\n    display: block;\n    padding: 10px 10px 0 10px;\n    margin-right: 10px;\n  }\n  .o-footer__social-media-list a:first-of-type {\n    padding: 10px 10px 0 0;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__social-media-list {\n    padding: 10px 0;\n  }\n}\n.o-footer__accordion-button {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  color: #fff;\n  background-color: #3b3fd8;\n  padding: 20px 30px 20px 30px;\n  width: 100%;\n  text-align: left;\n  border: none;\n  outline: 0;\n  border-bottom: 1px solid #3032c1;\n  text-transform: uppercase;\n}\n.o-footer__accordion-button svg {\n  width: 10px;\n  height: 10px;\n  color: #999;\n}\n.o-footer__accordion-button-caret {\n  transition: transform 0.2s ease-in-out;\n  transform: rotate(180deg);\n}\n.o-footer__accordion-button-caret--open {\n  transform: rotate(0deg);\n}\n@media (min-width: 36em) {\n  .o-footer__accordion-button-caret {\n    display: none;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__accordion-button {\n    padding: 0;\n    background-color: transparent;\n    border: 0 solid transparent;\n    pointer-events: none;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__main {\n    margin: 0 10px;\n  }\n}\n.o-footer__main:first-child {\n  margin-left: 0;\n}\n.o-footer__main-content-panel {\n  margin: 0;\n  text-indent: 0;\n  list-style-type: none;\n  padding: 0;\n  max-height: 0;\n  transition: max-height 0.2s ease-out;\n  overflow: hidden;\n  background-color: #3032c1;\n}\n.o-footer__main-content-panel-list-item {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  padding: 0;\n  border-bottom: 1px solid #3b3fd8;\n  color: #fff;\n}\n.o-footer__main-content-panel-list-item:last-child {\n  border-bottom: none;\n}\n@media (min-width: 36em) {\n  .o-footer__main-content-panel-list-item {\n    font-size: 14px;\n    letter-spacing: 0.02em;\n    line-height: 17px;\n    font-family: "Source Sans Pro", Arial, sans-serif;\n    width: 165px;\n    margin-top: 8px;\n    padding: 5px 0;\n    line-height: 1.21;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__main-content-panel {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding-top: 10px;\n    width: 330px;\n    background-color: #3b3fd8;\n    max-height: 1000px !important;\n  }\n  .o-footer__main-content-panel--short {\n    width: 165px;\n  }\n}')}
    `}static get resetHeadingCss(){return'axa-footer * {\n  box-sizing: content-box;\n}\naxa-footer *:before, axa-footer *:after {\n  box-sizing: content-box;\n}\naxa-footer h1, axa-footer h2, axa-footer h3, axa-footer h4, axa-footer h5, axa-footer h6 {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  font-weight: bold;\n  color: #fff;\n  padding: 0;\n  margin: 0;\n  display: block;\n  text-transform: uppercase;\n  line-height: 1.5;\n}\n@media (min-width: 36em) {\n  axa-footer h1, axa-footer h2, axa-footer h3, axa-footer h4, axa-footer h5, axa-footer h6 {\n    font-size: 16px;\n    letter-spacing: 0.02em;\n    line-height: 24px;\n    font-family: "Source Sans Pro", Arial, sans-serif;\n    font-weight: bold;\n    line-height: 1.5;\n  }\n}\naxa-footer h1[slot=social-title], axa-footer h2[slot=social-title], axa-footer h3[slot=social-title], axa-footer h4[slot=social-title], axa-footer h5[slot=social-title], axa-footer h6[slot=social-title] {\n  display: none;\n}\n@media (min-width: 62em) {\n  axa-footer h1[slot=social-title], axa-footer h2[slot=social-title], axa-footer h3[slot=social-title], axa-footer h4[slot=social-title], axa-footer h5[slot=social-title], axa-footer h6[slot=social-title] {\n    display: block;\n  }\n}\naxa-footer a {\n  color: #fff;\n  display: block;\n  text-decoration: none;\n  padding: 20px 30px;\n}\n@media (min-width: 36em) {\n  axa-footer a {\n    padding: 0px;\n    display: inline;\n  }\n}\naxa-footer a[slot^=social-item] {\n  display: block;\n  width: 25px;\n  height: 25px;\n  padding: 10px;\n}\naxa-footer a:hover {\n  color: rgba(255, 255, 255, 0.65);\n  text-decoration: none;\n}'}static get properties(){return{clickevents:{type:Boolean},onItemClick:{type:Function,attribute:!1}}}constructor(){super(),w(this),this._accordionActiveIndex=-1,this._handleAccordionClick=this._handleAccordionClick.bind(this),this._handleLinkClick=this._handleLinkClick.bind(this),u([c],{"axa-footer":{"axa-footer":"6.0.2","axa-container":"5.0.2"}},this)}firstUpdated(){this.inlineStyles("resetHeadingCss")}_revealChildrenWithSlotAttribute(t,e){if("function"==typeof t.hasAttribute&&(t.hasAttribute("slot")&&e.push(t),t.hasChildNodes())){Array.prototype.slice.call(t.childNodes).forEach((t=>{this._revealChildrenWithSlotAttribute(t,e)}))}}_setSlotNameFromNestedChildToDirectChildNodeOfComponent(t){let e=t;const n=[e];for(;S.tagName.toUpperCase()!==e.tagName.toUpperCase();)e=e.parentNode,n.push(e);const o=n[n.length-2];return o.setAttribute("slot",t.getAttribute("slot")),o}_prepareSlotsWithIndexes(){const t=Array.prototype.slice.call(this.querySelectorAll("[slot]")).map((t=>this._setSlotNameFromNestedChildToDirectChildNodeOfComponent(t))),e=t=>e=>e.getAttribute("slot").includes(t),n=t.filter(e("column-")),o=t.filter((i="social-",t=>{const{nodeName:n}=t;return e(i)(t)&&!v.includes(n.toLowerCase())}));var i;let a=-1,r=0;n.forEach(((t,e)=>{const{nodeName:n}=t;if(v.includes(n.toLowerCase()))a+=1,r=e,t.setAttribute("slot",t.getAttribute("slot").replace("column-title",`column-${a}-title`));else{const n=e-r-1;t.setAttribute("slot",`column-${a}-item-${n}`)}})),o.forEach(((t,e)=>{const n=`social-item-${e}`;t.setAttribute("slot",n)}))}_addListenersToLinks(t){const e=[...this.querySelectorAll("a")];t?e.forEach((t=>t.removeEventListener("click",this._handleLinkClick))):e.forEach((t=>t.addEventListener("click",this._handleLinkClick)))}performUpdate(){new Promise((t=>window.requestAnimationFrame((()=>t())))).then((()=>super.performUpdate()))}render(){const t={"o-footer__main-content-panel":!0,"o-footer__main-content-panel--open":0===this._accordionActiveIndex,"js-footer__main-content-panel":!0},n={"o-footer__main-content-panel":!0,"o-footer__main-content-panel--short":!0,"o-footer__main-content-panel--open":1===this._accordionActiveIndex,"js-footer__main-content-panel":!0},o=t=>({"o-footer__accordion-button-caret":!0,"o-footer__accordion-button-caret--open":this._accordionActiveIndex===t}),i=a(l);return this._addListenersToLinks(),this._prepareSlotsWithIndexes(),g(this)`
      <footer class="o-footer">
        <axa-container>
          <div class="o-footer__content">
            <div class="o-footer__collection">
              <div class="o-footer__main">
                ${this.querySelectorAll('[slot^="column-0-item-"]').length?e`
                        <button
                          class="o-footer__accordion-button"
                          @click="${t=>this._handleAccordionClick(0,t)}"
                        >
                          <slot
                            name="column-0-title"
                            class="o-footer__title"
                          ></slot>
                          <span class="${s(o(0))}">
                            ${i}
                          </span>
                        </button>
                        <ul class="${s(t)}">
                          ${r(new Array(this.querySelectorAll('[slot^="column-0-item-"]').length),((t,e)=>N(0,e)))}
                        </ul>
                      `:""}
              </div>

              <div class="o-footer__main">
                ${this.querySelectorAll('[slot^="column-1-item-"]').length?e`
                        <button
                          class="o-footer__accordion-button"
                          @click="${t=>this._handleAccordionClick(1,t)}"
                        >
                          <slot
                            name="column-1-title"
                            class="o-footer__title"
                          ></slot>
                          <span class="${s(o(1))}">
                            ${i}
                          </span>
                        </button>
                        <ul class="${s(n)}">
                          ${r(new Array(this.querySelectorAll('[slot^="column-1-item-"]').length),((t,e)=>N(1,e)))}
                        </ul>
                      `:""}
                
              </div>
            </div>
            <div class="o-footer__social-media">
              <slot
                name="social-title"
                class="o-footer__social-media-title"
              ></slot>
              <ul class="o-footer__social-media-list">
                ${r(new Array(this.querySelectorAll('[slot^="social-item-"]').length),((t,n)=>e`
                    <li class="o-footer__social-media-item">
                      <slot name="social-item-${n}"></slot>
                    </li>
                  `))}
              </ul>
            </div>
          </div>
        </axa-container>
      </footer>
    `}_handleAccordionClick(t,e){this._accordionActiveIndex=t===this._accordionActiveIndex?-1:t;const n=e.currentTarget.parentNode.parentNode.parentNode.querySelectorAll(".js-footer__main-content-panel");[].forEach.call(n,(t=>{C(t)}));const o=e.currentTarget.parentNode.querySelector(".js-footer__main-content-panel");if(this._accordionActiveIndex>-1){const{parentNode:{offsetHeight:t},children:e}=o;o.style.maxHeight=`${Math.ceil(t*e.length)}px`}else C(o)}_handleLinkClick(t){if(this.clickevents){t.preventDefault();const{currentTarget:e}=t;e&&(this.onItemClick(e),this.dispatchEvent(new CustomEvent("axa-footer-click",{detail:e,bubbles:!0,cancelable:!0})))}}disconnectedCallback(){super.disconnectedCallback(),this._addListenersToLinks(!0)}}u([S],{"axa-footer":{"axa-footer":"6.0.2","axa-container":"5.0.2"}});var $=(e,n)=>((e,n,o)=>{const{tagName:i}=n,a=o?u([n],o):i,r=a.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(""),s=({children:o,...i})=>{const{attrs:r,props:s}=x(i,n);return t(e)(a,{isReact:!0,attrs:r,...s},o)};return s.displayName=r,s})(e,S,n);export{$ as default};
