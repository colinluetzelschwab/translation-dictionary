import{html as t,LitElement as e,css as n,unsafeCSS as o}from"lit";import{unsafeHTML as i}from"lit/directives/unsafe-html.js";import{repeat as a}from"lit/directives/repeat.js";import{classMap as r}from"lit/directives/class-map.js";import{Expand_moreSvg as s}from"@axa-ch/materials/icons/material-design";import l from"@axa-ch/container";var c=(t,e)=>{const n=t.toLowerCase();return window.customElements.get(n)||window.customElements.define(n,e),n};const d=(t,e)=>{return`${t}-${n=e,`${n}`.replace(/\./g,"-").replace(/[^A-Za-z0-9-]/g,"")}`;var n},m=(t,e="",n="<")=>`${n}${e}${t}`,f=(t,e,n)=>m(d(t,e),n,"{"),p=(t,e,n)=>t.map((t=>t.split(m(e)).join(f(e,n)).split(m(e,"/")).join(f(e,n,"/")))),h=(t,e,n)=>{const o="string"==typeof e&&e;let i="";return t.forEach((t=>{const a=t instanceof HTMLElement?t.constructor:t,{tagName:r}=a,s=!o&&e[r];if(s){if(!window.customElements.get(r)&&a.versions)throw Error(`'versions' is a reserved class property, but was found in ${r}'s class`);a.versions=s,c(r,a)}let{versions:l}=a;!l&&n&&(l=e[n.constructor.tagName],l[r]=Object.values(l)[0]);const m=o||l[r];i=d(r,m),c(i,class extends a{})})),i},u=e=>(n,...o)=>{const i=e.constructor,[a,r]=(t=>{const{versions:e,tagName:n}=t,o=Object.keys(e).filter((t=>t!==n)).sort(((t,e)=>e.length-t.length));return[o,o.map((t=>e[t]))]})(i);let s=n;for(let t=0,e=a.length;t<e;t++)s=p(s,a[t],r[t]);for(let t=0,e=s.length;t<e;t++)s[t]=s[t].split("{").join("<");return s.raw=s,t(s,...o)},g=t=>!(null==t),x=new Map;[[String,""],[Boolean,!1],[Object,{}],[Array,[]],[Number,0],[Function,()=>{}]].forEach((([t,e])=>{x.set(t,e)}));const _=()=>{},b=t=>{const{constructor:{properties:e}}=t;Object.keys(e).forEach((n=>{const o=e[n],{type:i,converter:a,defaultValue:r}=o;if(!i){if(!a)throw new Error(`<${t.nodeName}> property "${n}" is missing a type!`);return}let s=t[n];g(s)||(s=i===Boolean?t.hasAttribute(n):t.getAttribute(n),g(s)?t[n]=((t,e)=>e===Number?parseFloat(t):e===Function?_:e===Array||e===Object?JSON.parse(t):t)(s,i):void 0===r&&"defaultValue"in o||(t[n]="defaultValue"in o?r:x.get(i)))}))};const w={};class y extends e{inlineStyles(t="styles"){const e=this.getRootNode(),n=w[this.tagName]||new WeakMap,o=n.get(e)||{},i=(o.referenceCount||0)+1;if(o.referenceCount=i,n.set(e,i),w[this.tagName]=n,1===i){this.ownerDocument!==e&&(this._rootNode=e);const n=document.createElement("style");let i=this.constructor[t];const a=this.nodeName.toLowerCase(),r=this.constructor.tagName;a!==r&&(i=i.split(r).join(a)),n.textContent=i,n.dataset.name=this.tagName.toLowerCase();(e instanceof ShadowRoot?e:document.head).appendChild(n),o.style=n}n.set(e,o),w[this.tagName]=n}disconnectedCallback(){super.disconnectedCallback();const t=w[this.tagName];if(!t)return;const e=this._rootNode||this.ownerDocument,n=t.get(e)||{},o=(n.referenceCount||0)-1;if(o<1){t.delete(e);const{style:o}=n;o&&o.parentNode&&o.parentNode.removeChild(o)}else n.referenceCount=o,t.set(e,n)}}const A=["h1","h2","h3","h4","h5","h6"],v=t=>{t.style.maxHeight="0px"},k=(e,n)=>t`
    <li class="o-footer__main-content-panel-list-item js-footer_list-item">
      <slot name="column-${e}-item-${n}" />
    </li>
  `;class C extends y{static get tagName(){return"axa-footer"}static get styles(){return n`
      ${o('.o-footer {\n  text-align: initial;\n  color: #fff;\n  background-color: #3b3fd8;\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n}\n@media (min-width: 36em) {\n  .o-footer {\n    padding: 40px 0;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer {\n    padding: 50px 0;\n  }\n  .o-footer h2 {\n    color: #fff !important;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__content {\n    display: grid;\n    grid-template-areas: "links" "social";\n    display: -ms-grid;\n    -ms-grid-columns: 1fr;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__content {\n    grid-template-areas: "links social";\n    display: -ms-grid;\n    -ms-grid-columns: 1fr 1fr;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__collection {\n    display: flex;\n    grid-area: links;\n    -ms-grid-row: 1;\n    -ms-grid-column: 1;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__collection {\n    -ms-grid-row: 1;\n    -ms-grid-column: 1;\n  }\n}\n.o-footer__title {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  margin: 0;\n}\n@media screen and (-ms-high-contrast: active) and (min-width: 62em), (-ms-high-contrast: none) and (min-width: 62em) {\n  .o-footer__social-media {\n    margin-left: 100px;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__social-media {\n    grid-area: social;\n    -ms-grid-row: 2;\n    -ms-grid-column: 1;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__social-media {\n    -ms-grid-row: 1;\n    -ms-grid-column: 2;\n  }\n}\n.o-footer__social-media-title {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  text-transform: uppercase;\n  line-height: 1.5;\n}\n.o-footer__social-media-list {\n  margin: 0;\n  text-indent: 0;\n  list-style-type: none;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 15px 20px;\n}\n.o-footer__social-media-list li {\n  margin-right: 10px;\n}\n.o-footer__social-media-list li:last-child {\n  margin-right: 0;\n}\n@media (min-width: 36em) {\n  .o-footer__social-media-list {\n    margin: 0;\n    text-indent: 0;\n    list-style-type: none;\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    padding-top: 15px;\n    margin-left: -10px;\n  }\n  .o-footer__social-media-list a {\n    display: block;\n    padding: 10px 10px 0 10px;\n    margin-right: 10px;\n  }\n  .o-footer__social-media-list a:first-of-type {\n    padding: 10px 10px 0 0;\n  }\n}\n@media (min-width: 62em) {\n  .o-footer__social-media-list {\n    padding: 10px 0;\n  }\n}\n.o-footer__accordion-button {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  color: #fff;\n  background-color: #3b3fd8;\n  padding: 20px 30px 20px 30px;\n  width: 100%;\n  text-align: left;\n  border: none;\n  outline: 0;\n  border-bottom: 1px solid #3032c1;\n  text-transform: uppercase;\n}\n.o-footer__accordion-button svg {\n  width: 10px;\n  height: 10px;\n  color: #999;\n}\n.o-footer__accordion-button-caret {\n  transition: transform 0.2s ease-in-out;\n  transform: rotate(180deg);\n}\n.o-footer__accordion-button-caret--open {\n  transform: rotate(0deg);\n}\n@media (min-width: 36em) {\n  .o-footer__accordion-button-caret {\n    display: none;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__accordion-button {\n    padding: 0;\n    background-color: transparent;\n    border: 0 solid transparent;\n    pointer-events: none;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__main {\n    margin: 0 10px;\n  }\n}\n.o-footer__main:first-child {\n  margin-left: 0;\n}\n.o-footer__main-content-panel {\n  margin: 0;\n  text-indent: 0;\n  list-style-type: none;\n  padding: 0;\n  max-height: 0;\n  transition: max-height 0.2s ease-out;\n  overflow: hidden;\n  background-color: #3032c1;\n}\n.o-footer__main-content-panel-list-item {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  padding: 0;\n  border-bottom: 1px solid #3b3fd8;\n  color: #fff;\n}\n.o-footer__main-content-panel-list-item:last-child {\n  border-bottom: none;\n}\n@media (min-width: 36em) {\n  .o-footer__main-content-panel-list-item {\n    font-size: 14px;\n    letter-spacing: 0.02em;\n    line-height: 17px;\n    font-family: "Source Sans Pro", Arial, sans-serif;\n    width: 165px;\n    margin-top: 8px;\n    padding: 5px 0;\n    line-height: 1.21;\n  }\n}\n@media (min-width: 36em) {\n  .o-footer__main-content-panel {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding-top: 10px;\n    width: 330px;\n    background-color: #3b3fd8;\n    max-height: 1000px !important;\n  }\n  .o-footer__main-content-panel--short {\n    width: 165px;\n  }\n}')}
    `}static get resetHeadingCss(){return'axa-footer * {\n  box-sizing: content-box;\n}\naxa-footer *:before, axa-footer *:after {\n  box-sizing: content-box;\n}\naxa-footer h1, axa-footer h2, axa-footer h3, axa-footer h4, axa-footer h5, axa-footer h6 {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  font-weight: bold;\n  color: #fff;\n  padding: 0;\n  margin: 0;\n  display: block;\n  text-transform: uppercase;\n  line-height: 1.5;\n}\n@media (min-width: 36em) {\n  axa-footer h1, axa-footer h2, axa-footer h3, axa-footer h4, axa-footer h5, axa-footer h6 {\n    font-size: 16px;\n    letter-spacing: 0.02em;\n    line-height: 24px;\n    font-family: "Source Sans Pro", Arial, sans-serif;\n    font-weight: bold;\n    line-height: 1.5;\n  }\n}\naxa-footer h1[slot=social-title], axa-footer h2[slot=social-title], axa-footer h3[slot=social-title], axa-footer h4[slot=social-title], axa-footer h5[slot=social-title], axa-footer h6[slot=social-title] {\n  display: none;\n}\n@media (min-width: 62em) {\n  axa-footer h1[slot=social-title], axa-footer h2[slot=social-title], axa-footer h3[slot=social-title], axa-footer h4[slot=social-title], axa-footer h5[slot=social-title], axa-footer h6[slot=social-title] {\n    display: block;\n  }\n}\naxa-footer a {\n  color: #fff;\n  display: block;\n  text-decoration: none;\n  padding: 20px 30px;\n}\n@media (min-width: 36em) {\n  axa-footer a {\n    padding: 0px;\n    display: inline;\n  }\n}\naxa-footer a[slot^=social-item] {\n  display: block;\n  width: 25px;\n  height: 25px;\n  padding: 10px;\n}\naxa-footer a:hover {\n  color: rgba(255, 255, 255, 0.65);\n  text-decoration: none;\n}'}static get properties(){return{clickevents:{type:Boolean},onItemClick:{type:Function,attribute:!1}}}constructor(){super(),b(this),this._accordionActiveIndex=-1,this._handleAccordionClick=this._handleAccordionClick.bind(this),this._handleLinkClick=this._handleLinkClick.bind(this),h([l],{"axa-footer":{"axa-footer":"6.0.2","axa-container":"5.0.2"}},this)}firstUpdated(){this.inlineStyles("resetHeadingCss")}_revealChildrenWithSlotAttribute(t,e){if("function"==typeof t.hasAttribute&&(t.hasAttribute("slot")&&e.push(t),t.hasChildNodes())){Array.prototype.slice.call(t.childNodes).forEach((t=>{this._revealChildrenWithSlotAttribute(t,e)}))}}_setSlotNameFromNestedChildToDirectChildNodeOfComponent(t){let e=t;const n=[e];for(;C.tagName.toUpperCase()!==e.tagName.toUpperCase();)e=e.parentNode,n.push(e);const o=n[n.length-2];return o.setAttribute("slot",t.getAttribute("slot")),o}_prepareSlotsWithIndexes(){const t=Array.prototype.slice.call(this.querySelectorAll("[slot]")).map((t=>this._setSlotNameFromNestedChildToDirectChildNodeOfComponent(t))),e=t=>e=>e.getAttribute("slot").includes(t),n=t.filter(e("column-")),o=t.filter((i="social-",t=>{const{nodeName:n}=t;return e(i)(t)&&!A.includes(n.toLowerCase())}));var i;let a=-1,r=0;n.forEach(((t,e)=>{const{nodeName:n}=t;if(A.includes(n.toLowerCase()))a+=1,r=e,t.setAttribute("slot",t.getAttribute("slot").replace("column-title",`column-${a}-title`));else{const n=e-r-1;t.setAttribute("slot",`column-${a}-item-${n}`)}})),o.forEach(((t,e)=>{const n=`social-item-${e}`;t.setAttribute("slot",n)}))}_addListenersToLinks(t){const e=[...this.querySelectorAll("a")];t?e.forEach((t=>t.removeEventListener("click",this._handleLinkClick))):e.forEach((t=>t.addEventListener("click",this._handleLinkClick)))}performUpdate(){new Promise((t=>window.requestAnimationFrame((()=>t())))).then((()=>super.performUpdate()))}render(){const e={"o-footer__main-content-panel":!0,"o-footer__main-content-panel--open":0===this._accordionActiveIndex,"js-footer__main-content-panel":!0},n={"o-footer__main-content-panel":!0,"o-footer__main-content-panel--short":!0,"o-footer__main-content-panel--open":1===this._accordionActiveIndex,"js-footer__main-content-panel":!0},o=t=>({"o-footer__accordion-button-caret":!0,"o-footer__accordion-button-caret--open":this._accordionActiveIndex===t}),l=i(s);return this._addListenersToLinks(),this._prepareSlotsWithIndexes(),u(this)`
      <footer class="o-footer">
        <axa-container>
          <div class="o-footer__content">
            <div class="o-footer__collection">
              <div class="o-footer__main">
                ${this.querySelectorAll('[slot^="column-0-item-"]').length?t`
                        <button
                          class="o-footer__accordion-button"
                          @click="${t=>this._handleAccordionClick(0,t)}"
                        >
                          <slot
                            name="column-0-title"
                            class="o-footer__title"
                          ></slot>
                          <span class="${r(o(0))}">
                            ${l}
                          </span>
                        </button>
                        <ul class="${r(e)}">
                          ${a(new Array(this.querySelectorAll('[slot^="column-0-item-"]').length),((t,e)=>k(0,e)))}
                        </ul>
                      `:""}
              </div>

              <div class="o-footer__main">
                ${this.querySelectorAll('[slot^="column-1-item-"]').length?t`
                        <button
                          class="o-footer__accordion-button"
                          @click="${t=>this._handleAccordionClick(1,t)}"
                        >
                          <slot
                            name="column-1-title"
                            class="o-footer__title"
                          ></slot>
                          <span class="${r(o(1))}">
                            ${l}
                          </span>
                        </button>
                        <ul class="${r(n)}">
                          ${a(new Array(this.querySelectorAll('[slot^="column-1-item-"]').length),((t,e)=>k(1,e)))}
                        </ul>
                      `:""}
                
              </div>
            </div>
            <div class="o-footer__social-media">
              <slot
                name="social-title"
                class="o-footer__social-media-title"
              ></slot>
              <ul class="o-footer__social-media-list">
                ${a(new Array(this.querySelectorAll('[slot^="social-item-"]').length),((e,n)=>t`
                    <li class="o-footer__social-media-item">
                      <slot name="social-item-${n}"></slot>
                    </li>
                  `))}
              </ul>
            </div>
          </div>
        </axa-container>
      </footer>
    `}_handleAccordionClick(t,e){this._accordionActiveIndex=t===this._accordionActiveIndex?-1:t;const n=e.currentTarget.parentNode.parentNode.parentNode.querySelectorAll(".js-footer__main-content-panel");[].forEach.call(n,(t=>{v(t)}));const o=e.currentTarget.parentNode.querySelector(".js-footer__main-content-panel");if(this._accordionActiveIndex>-1){const{parentNode:{offsetHeight:t},children:e}=o;o.style.maxHeight=`${Math.ceil(t*e.length)}px`}else v(o)}_handleLinkClick(t){if(this.clickevents){t.preventDefault();const{currentTarget:e}=t;e&&(this.onItemClick(e),this.dispatchEvent(new CustomEvent("axa-footer-click",{detail:e,bubbles:!0,cancelable:!0})))}}disconnectedCallback(){super.disconnectedCallback(),this._addListenersToLinks(!0)}}h([C],{"axa-footer":{"axa-footer":"6.0.2","axa-container":"5.0.2"}});export{C as default};
